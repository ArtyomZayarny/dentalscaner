#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check if there are any changes in the client directory
if git diff --cached --name-only | grep -q "^client/"; then
  echo "🔍 Client changes detected. Running pre-commit checks..."
  
  cd client
  
  echo "🔍 Running linting..."
  npm run lint
  
  echo "📝 Running TypeScript checks..."
  npm run typecheck
  
  echo "🧪 Running tests..."
  npm test
  
  echo "✅ Client checks passed! Proceeding with commit..."
else
  echo "ℹ️ No client changes detected. Skipping client pre-commit checks."
fi

#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check if there are any changes in the client directory
if git diff --cached --name-only | grep -q "^client/"; then
  echo "ğŸ” Client changes detected. Running pre-commit checks..."
  
  cd client
  
  echo "ğŸ” Running linting..."
  npm run lint
  
  echo "ğŸ“ Running TypeScript checks..."
  npm run typecheck
  
  echo "ğŸ§ª Running tests..."
  npm test
  
  echo "âœ… Client checks passed! Proceeding with commit..."
else
  echo "â„¹ï¸ No client changes detected. Skipping client pre-commit checks."
fi
